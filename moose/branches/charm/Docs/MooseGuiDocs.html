<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>MOOSEGUI: Graphical interface for MOOSE.</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="title" content="MOOSEGUI: Graphical interface for MOOSE."/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2012-09-30 08:30:11 IST"/>
<meta name="author" content="This document: Upi Bhalla. GUI: Harsha Rani, H. Chaitanya"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">MOOSEGUI: Graphical interface for MOOSE.</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Introduction</a>
<ul>
<li><a href="#sec-1-1">1.1 Layout of interface</a></li>
<li><a href="#sec-1-2">1.2 The menu bar</a></li>
<li><a href="#sec-1-3">1.3 The Model window</a>
<ul>
<li><a href="#sec-1-3-1">1.3.1 3-D display of neuronal models in Neurokit:</a></li>
<li><a href="#sec-1-3-2">1.3.2 2-D display of chemical kinetics models in Kinetikit:</a></li>
</ul>
</li>
<li><a href="#sec-1-4">1.4 The plot window</a></li>
<li><a href="#sec-1-5">1.5 The side panel</a>
<ul>
<li><a href="#sec-1-5-1">1.5.1 Property editor</a></li>
<li><a href="#sec-1-5-2">1.5.2 Plot configuration</a></li>
<li><a href="#sec-1-5-3">1.5.3 Simulation control</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">

<p>  The Moose GUI lets you work on <a href="Kkit12Documentation.html">chemical</a>
  and <a href="Nkit2Documentation.html">compartmental neuronal</a> models
  using a common interface framework. This document describes this common
  framework. In MOOSE 2.0.0, the interface lets you read, run, edit, and
  write chemical kinetic models, and to read, edit and run neuronal models.
</p>

</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Layout of interface</h3>
<div class="outline-text-3" id="text-1-1">

<p>        The <b>MooseGui</b> interface consists of a model view window to the
        left, occupying most of the screen. To the right there is a panel
        with controls for viewing and editing model parameters, for 
        configuring plots, and for running the model.
</p>
<p>
   <img src="./images/MooseGuiImage.png"  alt="./images/MooseGuiImage.png" />
</p>
</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> The menu bar</h3>
<div class="outline-text-3" id="text-1-2">

<p>        In Ubuntu 12.04, the menu bar appears only when the mouse is in the 
        top menu strip of the screen. In other distributions it should
        appear over the top of the interface. 
</p>
<p>
        <img src="./images/MooseGuiMenuImage.png"  alt="./images/MooseGuiMenuImage.png" />
</p>
<p>
        The menu bar contains the
        following entries: <b>File</b>, <b>Edit</b>, <b>View</b>, <b>Solver</b>, <b>Help</b>.
</p><dl>
<dt>File</dt><dd>
<ul>
<li><b>Load Model</b>:
                  This leads to a file finder dialog. The default location
                  should bring you to the <i>Demos</i> directory of MOOSE. 
                  Here you can go into the <i>Genesis-files</i> subdirectory,
                  which contains legacy <i>Kinetikit</i> (.g) format models.
                  The <i>neuroml</i> subdirectory leads to a number of example
                  neuronal and network models, each in their own subdirectory.
                  The other demos are mostly standalone demos.
</li>
<li><b>Save Model</b>:
                  This currently works only for chemical kinetic models, and
                  only works for the Kinetikit format.
</li>
<li><b>Merge Models</b>:
                  This allows one to load in a new chemical kinetic model on 
                  top of an already loaded model.
</li>
<li><b>Save plots</b>:
                  Dumps plot contents to disk in xplot (ascii) format.
</li>
<li><b>Shell model</b>:
                  Not yet operational
</li>
<li><b>Reset settings</b>:
                  Restores interface settings to default.
</li>
<li><b>Quit</b>:
                  Quits the interface.
</li>
</ul>

</dd>
<dt>Edit</dt><dd>
<ul>
<li><b>Settings</b>: 
                  Provides for changing interface settings such as 
                  file locations.
</li>
</ul>

</dd>
<dt>View</dt><dd>
<p>
                This allows one to control display of various parts of the
                interface.
</p><ul>
<li><b>Moose shell</b>:
                  Currently inactive.
</li>
<li><b>Property editor</b>:
                  Toggles visibility of the panels for viewing and editing
                  object parameters.
                  This is to the upper right of the interface in the
                  interface layout example figure above.
</li>
<li><b>Simulation control</b>:
                  Toggles visibility of the panels for controlling running
                  of the simulation, at the bottom right of the interface
                  layout.
</li>
<li><b>Plot config</b>:
                  Toggles visibility of panels for making plots. This is
                  in the middle right of the interface layout.
</li>
<li><b>Sub Windows</b>:
                  This sets up the model view and the plot view panels into
                  separate sub-windows of the screen. Useful when you want
                  to watch plots at the same time as the cell display,
                  or to select and edit different parts of the model 
                  while watching the simulation progress.
</li>
<li><b>Tabs</b>:
                  This sets up the model view and plot view panels into
                  tabs on the screen, as in the example interface figure above.
                  This is useful to dedicate a larger portion of screen area
                  to each display.
</li>
</ul>

</dd>
<dt>Solver</dt><dd>
<p>
           The Solver options currently only select between methods for
           kinetic models. Details are in the 
           <a href="Kkit12Documentation.html">chemical kinetics documentation</a>.
           Options are:
</p><ul>
<li>Runge Kutta
                  This is the default method for integration of ODE systems. It
                  uses the Gnu Scientific Library 5-th order explicit variable-
                  timestep Runge-Kutta-Fehlberb method.
</li>
<li>Gillespie
                  This is an implementation of Gillespies Stochastic Systems
                  Algorithm, which computes reaction progress using a stochastic
                  method.
</li>
</ul>

</dd>
<dt>Help</dt><dd>
<ul>
<li><b>About</b>:
                  Version and general information about MOOSE.
</li>
<li><b>General documentation</b>: This file. How to use the common
                  interface framework.
</li>
<li><b>Kkit": Documentation on the use of Kinetikit version 12.                 - *Nkit</b>": Docomentation on the use of Neurokit version 2.
</li>
<li><b>Report a bug</b>: Takes you to the SourceForge bug tracker for
                   Moose.
</li>
</ul>

</dd>
</dl>


</div>

</div>

<div id="outline-container-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> The Model window</h3>
<div class="outline-text-3" id="text-1-3">

<p>        The Model window displays a view of the model structure. These views
        vary depending on the model type. 
</p>
</div>

<div id="outline-container-1-3-1" class="outline-4">
<h4 id="sec-1-3-1"><span class="section-number-4">1.3.1</span> 3-D display of neuronal models in Neurokit:</h4>
<div class="outline-text-4" id="text-1-3-1">


<p>
        <img src="./images/NkitModelWindow.png"  alt="./images/NkitModelWindow.png" />
</p>
<p>
        The individual compartments of the neuron model can be clicked to 
        select,
        and when selected, the compartment parameters and variables are
        displayed in the <i>property editor</i> described below.
        For a neuronal or neuronal network
        model, the window displays a 3-D view of the cell(s) in the model.
        It does so using <i>OpenGL</i>, which is a standard for displaying 3-D 
        views.
        In addition, the display sets the color of each compartment based on
        some variable value, typically <i>Vm</i>, the membrane potential of the 
        compartment.
        Note the 3-D axis indicators in the bottom left.
</p>
<p>
        The controls for moving the display are as follows:
</p><ul>
<li><b>Zoom</b>: One can zoom in and out of the field of view in the 
                <i>OpenGL</i> window using the comma and period keys (think in
                terms of the angle bracket symbols on the same keys).
                In addition, the scroll wheel or the vertical scroll line on 
                the track pad will also cause the display to zoom in and out.
</li>
<li><b>Pan</b>: The arrow keys  will move the display left, right, up and
                down. Pan can also be done using the mouse if you hold
                down the <b>shift</b> key and the <b>left mouse button</b>
                at the same time.
</li>
<li><b>Pitch</b>: For reasons entirely unknown to me, the keys <b>y</b> and <b>u</b>
                are assigned to rotate the display about the vertical axis,
                otherwise known as <i>pitch</i>. 
</li>
<li><b>Yaw</b>: The keys <b>q</b> and <b>a</b> control
                rotation around the horizontal axis, otherwise known as 
                <i>yaw</i>. 
</li>
<li><b>Roll</b>: To complete the key binding hall of fame, the keys <b>z</b> and
                <b>x</b> rotate the display around the axis going into the display
                from your eyes.
</li>
<li><b>Mouse controls</b>: One can also acheive a combination of <i>pitch</i>,
                <i>roll</i>, and <i>yaw</i> by holding the left mouse button down and
                moving the mouse.
</li>
</ul>


</div>

</div>

<div id="outline-container-1-3-2" class="outline-4">
<h4 id="sec-1-3-2"><span class="section-number-4">1.3.2</span> 2-D display of chemical kinetics models in Kinetikit:</h4>
<div class="outline-text-4" id="text-1-3-2">

<p>        For a chemical kinetics network, the window displays a schematic
        of the chemical reaction system. This is in the tab 
        labeled <i>Kkit Layout</i>. There are distinct icons for 
        molecules, reactions and enzymes, and these are connected by arrows
        to set up the reaction scheme. Again, any icon can be clicked to select
        and its parameters and variables come up in the <i>property editor</i>.
</p>
<p>
        <img src="./images/KkitModelWindow.png"  alt="./images/KkitModelWindow.png" />
</p>
<p>
        The chemical network is displayed only in 2 dimensions. The controls
        are correspondingly simpler:
</p><ul>
<li><b>Zoom</b>: Comma and period keys. Alternatively, the mouse scroll
                wheel or vertical scroll line on the track pad will cause
                the display to zooom in and out.
</li>
<li><b>Pan</b>: The arrow keys move the display left, right, up, and down.
</li>
<li><b>Entire Model View</b>: Pressing the <b>a</b> key will fit the entire model
                into the entire field of view.
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> The plot window</h3>
<div class="outline-text-3" id="text-1-4">

<p>        The plot window displays time-series plots of the simulation. Plots
        are color-coded to distinguish them. In the case of the <b>kkit</b>
        interface the plots take the same color as the molecule pool that
        they represent.
</p>
<p>
        <img src="./images/KkitPlotWindow.png"  alt="./images/KkitPlotWindow.png" />
</p>
<p>
        The plots are done using <i>MatPlotLib</i>, so the usual controls
        apply. Beneath the plot window there is a little row of icons:
</p>
<p>
        <img src="./images/PlotWindowIcons.png"  alt="./images/PlotWindowIcons.png" />
</p>
<p>
        These are the plot controls. If you hover the mouse over them for a
        few seconds, a function reminder box pops up. 
        The functions as follows:
</p><ul>
<li><img src="./images/MatPlotLibHomeIcon.png"  alt="./images/MatPlotLibHomeIcon.png" /> <b>Home</b>: Returns the plot display
                to its default position.
</li>
<li><img src="./images/MatPlotLibDoUndo.png"  alt="./images/MatPlotLibDoUndo.png" /> <b>Undo/Redo</b>: Undoes or re-does
                manipulations you have done to the display.
</li>
<li><img src="./images/MatPlotLibPan.png"  alt="./images/MatPlotLibPan.png" /> <b>Pan</b>: The plots will pan around
                with the mouse when you hold the left button down. The plots
                will zoom with the mouse when you hold the right button down.
</li>
<li><img src="./images/MatPlotLibZoom.png"  alt="./images/MatPlotLibZoom.png" /> <b>Zoom to rectangle</b>: With the
                <b>left</b> button-mouse, this will zoom in to the specified
                rectangle so that the plots become bigger. 
                With the <b>right</b> button-mouse, the entire plot display will
                be shrunk to fit into the specified rectangle.
</li>
<li><img src="./images/MatPlotLibConfigureSubplots.png"  alt="./images/MatPlotLibConfigureSubplots.png" /> <b>Configure subplots</b>: 
                You don't want to mess with these.
</li>
<li><img src="./images/MatPlotLibSave.png"  alt="./images/MatPlotLibSave.png" /> <b>Save</b>: Pops up a dialog box to
                save the plot. At this point it only saves into a .png file.
</li>
</ul>


</div>

</div>

<div id="outline-container-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> The side panel</h3>
<div class="outline-text-3" id="text-1-5">

<p>        The <i>side panel</i> is located on the right of the screen. 
        It displays three controls: the <b>Property editor</b>, the
        <b>Plot configuration</b> and the <b>Run control</b>.
</p>

</div>

<div id="outline-container-1-5-1" class="outline-4">
<h4 id="sec-1-5-1"><span class="section-number-4">1.5.1</span> Property editor</h4>
<div class="outline-text-4" id="text-1-5-1">

<p>        The <i>property editor</i> displays parameters and variables of the
        selected model component (object). 
</p>
<p>
        <img src="./images/PropertyEditor.png"  alt="./images/PropertyEditor.png" />
</p>
<p>
        The object many be 
        a compartments of a neuronal model, 
        or pools, reactions, or enzymes in a signaling
        model. 
</p><ul>
<li><b>The top of the property editor</b>: displays the class and 
</li>
</ul>

<p>        path of the selected object. 
</p><ul>
<li><b>See children</b>: opens a subsidiary table to navigate to child
</li>
</ul>

<p>        objects in the filesystem-like object tree.
</p><ul>
<li><b>Select Parent</b>: Navigates back up to the parent object in the
</li>
<li><b>Properties</b>: This table displays 
</li>
</ul>

<p>        field names in the first column, followed by field values
        in the second. If the field is editable one can click on the
        value in the second column and change it.
</p>
</div>

</div>

<div id="outline-container-1-5-2" class="outline-4">
<h4 id="sec-1-5-2"><span class="section-number-4">1.5.2</span> Plot configuration</h4>
<div class="outline-text-4" id="text-1-5-2">

<p>        The <i>Plot configuration</i> panel lets one set up new plots based on
        selected objects and their fields.
</p>
<p>
        <img src="./images/PlotConfig.png"  alt="./images/PlotConfig.png" />
</p>
<ul>
<li><b>The top line</b>: has the name of the object whose field is to be
</li>
</ul>

<p>        plotted.
</p><ul>
<li><b>Plot Field</b>: Specifies field to be plotted.
</li>
<li><b>Plot Window</b>: Specifies which of the existing plot windows to use                    for the new plot.
</li>
<li><b>New Plot Tab</b>: This button creates a new plot window as a tab.
</li>
<li><b>Add Field</b>: Creates the plot as specified by the other options.
</li>
<li><b>Overlay Plots</b>: When not checked, plots are cleared every time
                the \Reset\ button is hit. When checked, this retains the
                plots from the previous run.
</li>
</ul>


</div>

</div>

<div id="outline-container-1-5-3" class="outline-4">
<h4 id="sec-1-5-3"><span class="section-number-4">1.5.3</span> Simulation control</h4>
<div class="outline-text-4" id="text-1-5-3">

<p>        The <i>Simulation control</i> panel controls how the model is run.
</p>
<p>
        <img src="./images/SimulationControl.png"  alt="./images/SimulationControl.png" />
</p>
<ul>
<li><b>Run Time</b>: Determines duration for which simulation is to run.
                If simulation has already run, this runs for the specified
                additional period.
</li>
<li><b>Reset</b>: Restores simulation to its initial state; reinitializes
                all variables to t=0.
</li>
<li><b>Stop</b>: This button halts an ongoing simulation.
</li>
<li><b>Current time</b>: This reports the current simulation time.
</li>
<li><b>Advanced options</b>: This is available only after <i>Reset</i>. This
                sets:
<ul>
<li><span style="text-decoration:underline;">Plotdt</span>: Timestep to use for updating plots.
</li>
<li><span style="text-decoration:underline;">Simdt</span>: Timestep to use for internal simulation clocks.
                        Edit only if you know what you are doing.
                        For kinetic models, most of the numerical methods use
                        variable timestep calculations, so this should be set
                        to the same value as the <i>Plotdt</i> in most cases.
</li>
<li><span style="text-decoration:underline;">Update Plotdt</span>: How frequently should the screen refresh.
</li>
</ul>

</li>
</ul>


</div>
</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2012-09-30 08:30:11 IST</p>
<p class="author">Author: This document: Upi Bhalla. GUI: Harsha Rani, H. Chaitanya</p>
<p class="creator">Org version 7.8.02 with Emacs version 23</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
