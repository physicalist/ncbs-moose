<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>MOOSE: Design Document</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MOOSE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Design Document </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="DD_Goals"></a>
Goals</h1>
<ul>
<li>Cleanup.</li>
<li>Handle multithreading and MPI from the ground up.</li>
</ul>
<h1><a class="anchor" id="DD_WhyDoThis"></a>
Why do this?</h1>
<p>It is a huge amount of work to refactor a large existing code base. This is needed here, and was in fact anticipated, for two reasons:</p>
<ul>
<li>We needed the experience of building a fairly complete, functioning system to know what the underlying API must do.</li>
<li>The original parallel stuff was a hack.</li>
</ul>
<p>This redesign does a lot of things differently from the earlier MOOSE messaging.</p>
<ul>
<li>Introduces a buffer-based data transfer mechanism, with a fill/empty cycle to replace the earlier function-call mechanism. The fill/empty cycle is needed for multithreading and also works better with multinode data traffic.</li>
<li>All Elements are now assumed to be array Elements, so indexing is built into messaging from the ground up.</li>
<li><a class="el" href="classField.html">Field</a> access function specification is cleaner.</li>
<li>Separation of function specification from messaging. This means that any message can be used as a communication line for any function call between two Elements. This gives an enormous simplification to message design. However, it entails:</li>
<li>Runtime type-checking of message data, hopefully in a very efficient way. As message setup is itself runtime, and arbitrary functions can sit on the message channels, it turns out to be very hard to do complete checking at compile or setup time.</li>
<li>Wildcard info merged into messages.</li>
<li>Three-tier message manipulation hierarchy, for better introspection and relating to higher-level setup calls. These are <a class="el" href="classMsg.html">Msg</a>: Lowest level, manages info between two Elements e1 and e2. Deals with the index-level connectivity for the <a class="el" href="classElement.html">Element</a> arrays. Conn: Mid level. Manages a set of Msgs that together make a messaging unit that takes a function call/data from source to a set of destination Elements and their array entries. Has introspection info. Is a MOOSE field. Map: High level. Manages a set of Conns that together handle a conceptual group. Equivalent to an anatomical projection from one set of neurons to another in the brain. Equivalent to what the 'createmap' function would generate. Has introspection. Is a MOOSE <a class="el" href="classElement.html">Element</a>.</li>
<li><a class="el" href="classField.html">Field</a> access and function calls now go through the messaging interface. Not necessarily the fastest way to do it, but simplifies life in a multinode/multithreaded system, and reduces the complexity of the overall interface. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 2 2015 21:51:25 for MOOSE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
